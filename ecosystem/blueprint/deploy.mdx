title: "How to deploy and interact with contracts"
sidebarTitle: "Deploy and interact"
---

Following development and testing, contracts can be deployed and interacted with.

## Run scripts

Blueprint allows you to run scripts directly from the project.

1. Place your script in the `scripts/` folder.
1. Each script file must export a `run` function:
    ```typescript
    export async function run(provider: NetworkProvider, args: string[]) {
      //
    }
    ```
1. Run the script with: `npx blueprint run <SCRIPT>`

<SCRIPT> — script name.

## Deploy contracts

To deploy a smart contract, create a deployment script in `scripts/deploy-<CONTRACT>.ts` with the following content.

```typescript title="./scripts/deploy-<CONTRACT>.ts" expandable
import { toNano } from '@ton/core';
import { MyContract } from '../wrappers/MyContract';
import { compile, NetworkProvider } from '@ton/blueprint';

export async function run(provider: NetworkProvider) {
    const myContract = provider.open(MyContract.createFromConfig({}, await compile('MyContract')));

    await myContract.sendDeploy(provider.sender(), toNano('0.05'));

    await provider.waitForDeploy(myContract.address);

    // run methods on `myContract`
}
```

### Use interactive mode

To launch a guided prompt to deploy a contract step by step, use:

```bash
npx blueprint run
```

### Use non-interactive mode

To run a deployment script without prompts, provide the contract name and deployment method:

```bash
npx blueprint run deploy<CONTRACT> --<NETWORK> --<DEPLOY_METHOD>
```

<CONTRACT> — contract name.
<NETWORK> — network flag value.
<DEPLOY_METHOD> — deployment method flag.

**Example:**

```bash
npx blueprint run deployCounter --mainnet --tonconnect
```

## Deployment methods

### Mnemonic provider

Run scripts with a wallet using mnemonic authentication by configuring environment variables and use the `--mnemonic` option in non-interactive mode.

**Required variables:**

Set the following variables in the `.env` file:
- `WALLET_MNEMONIC` — wallet mnemonic phrase (space-separated words).
- `WALLET_VERSION` — wallet contract version.
- **Supported versions:** `v1r1`, `v1r2`, `v1r3`, `v2r1`, `v2r2`, `v3r1`, `v3r2`, `v4r1`, `v4r2` (or `v4`), `v5r1`.

```env
WALLET_MNEMONIC="word1 word2 ... word24"   # Your wallet's mnemonic phrase
WALLET_VERSION="v4r2"                      # Wallet contract version
```

**Optional variables:**

- `WALLET_ID` — wallet ID for versions earlier than `v5r1`.
- `SUBWALLET_NUMBER` — subwallet number for `v5r1` wallets.

_See the [wallet v5 reference](https://github.com/ton-org/ton/blob/master/src/wallets/v5r1/WalletV5R1WalletId.ts) for `WALLET_ID` construction._

Once your environment is set up, you can use the mnemonic wallet for deployment with the appropriate configuration.

### TON Connect

Run scripts with a wallet using TON Connect by specifying the `--tonconnect` option.

**Steps:**

1. After running the command, select a wallet from the available options.
1. Scan the generated QR code in your wallet app or open the provided link.
1. Confirm the transaction in the wallet's interface.

Once confirmed, the contract is deployed.

## Interaction

After deploying your contracts, you can interact with them using Blueprint scripts. These scripts use the [wrappers](./develop#wrappers) you've created to send messages and call get methods on your deployed contracts.

To run the following scripts, see [Run scripts](#run-scripts).

### Send messages

To send [messages](../../ton/transaction) to your deployed contracts, create a script that calls the `send` methods defined in your wrapper. These methods trigger contract execution and modify the contract's state.

```typescript title="./scripts/sendIncrease.ts"
import { Address, toNano } from '@ton/core';
import { MyContract } from '../wrappers/MyContract';
import { NetworkProvider } from '@ton/blueprint';

const contractAddress = Address.parse('<CONTRACT_ADDRESS>');

export async function run(provider: NetworkProvider) {
    const myContract = provider.open(MyContract.createFromAddress(contractAddress));

    await myContract.sendIncrease(provider.sender(), {
        value: toNano('0.05'),
        increaseBy: 42
    });

    await provider.waitForLastTransaction();
    console.log('Message sent successfully!');
}
```

<CONTRACT_ADDRESS> — address of the deployed contract.

### Execute get methods

Get methods allow you to read data from your deployed contracts without creating transactions. These methods are free to call and don't modify the contract's state.

```typescript title="./scripts/getCounter.ts"
import { Address } from '@ton/core';
import { MyContract } from '../wrappers/MyContract';
import { NetworkProvider } from '@ton/blueprint';

const contractAddress = Address.parse('<CONTRACT_ADDRESS>');

export async function run(provider: NetworkProvider) {
    const myContract = provider.open(MyContract.createFromAddress(contractAddress));

    const counter = await myContract.getCounter();
    const id = await myContract.getId();

    console.log('Counter:', counter);
    console.log('ID:', id);
}
```
